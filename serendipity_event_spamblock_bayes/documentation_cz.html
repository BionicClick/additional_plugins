<html>
    <head>
		<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
        <title>Dokumentace: Spamblock (Bayes)</title>
    </head>

<body>
    
<h1>Dokumentace k pluginu 'Spamblock (Bayes)'</h1>

<p>Dokumentaci k tomuto pluginu pøelo¾il do èe¹tiny Vladimír Ajgl (vlada [zavinac] ajgl [tecka] cz) dne 4.7.2011. Od té doby mohl být plugin pozmìnìn nebo mohly být roz¹íøené jeho funkce. Zkontrolujte pro jistotu i <a href="documentation_de.html">aktuální nìmeckou dokumentaci</a> a <a href="ChangeLog"> anglický ChangeLog</a>.
<p>

<h2>O pluginu</h2>
<p>
Plugin Spamblock-Bayes se pokou¹í zjistit, jestli je nový komentáø spam, nebo platný komentáø (nespam = ham), a to pomocí statistické analýzy výskytu slov v komentáøi.
</p>
<p>
Za tímto úèelem si vytváøí lokální databázi, ze které se plugin uèí hodnotit nové komentáøe z hodnocení starých komentáøù.
</p>

<h2>Spam-faktor</h2>
<p>
Základní my¹lenkou je pøiøazení spam-faktorù komentáøùm. Tento faktor se pohybuje od 0% (èistý komentáø) do 100% (urèitì spam). Spam-faktor klesá nebo stoupá podle hodnocení podobných komentáøù.
</p>

<h2>Vyu¾ití</h2>
<p>
Na stránce "Komentáøe" budou bìhem instalace pluginu ke ka¾dému komentáøi pøidána dvì tlaèítka (Spam a Ham) a ukazatel v procentech. Pomocí tlaèítek lze jednotlivé komentáøe ohodnotit. Komentáøe oznaèené jako "Spam" budou pøesunuty do ko¹e (nebo rovnou smazány, pokud je ko¹ vypnut v nastavení). Mìøítko v procentech ukazuje Spam-faktor ka¾dého z komentáøù.
</p>

<h3>Roz¹íøené menu</h3>
<p>
Na hlavní stránce administrativní sekce bude pøidáno menu pojmenované "Spamblock (Bayes)". Toto je roz¹íøené menu, které není nezbytnì nutné pro základní funkce pluginu.
</p>
<p>
Dále jsou vysvìtleny funkce jednotlivých podmenu.
</p>

<h4>Uèit se</h4>
<p>
Formuláø obsahuje v¹echna pole, které mù¾e obsahovat komentáø, jako je napøíklad text komentáøe nebo domovská URL adresa. Zde je mo¾né zadat konkrétní slova, která se má plugin nauèit. Toto nastavení slou¾í k pøesnému vyladìní filtrù, které by mìlo být potøeba jen ve výjimeèných pøípadech.
</p>

<h4>Databáze</h4>
V obou tabulkách je zobrazen pouze pøehled o obsahu databáze. Menu na této stránce nicménì poskytuje dùle¾ité funkce.
<dl><dt>Vytvoøit databázi</dt>
<dd>Vytvoøí znovu databázi, pokud byla smazána nebo pokud nebyla správnì zalo¾ena pøi instalaci.</dd>
<dt>Uèit se ze star¹ích</dt>
<dd>Nauèí se existující komentáøe jako Ham (=nespam) a obsah spamlogù jako Spam</dd>
<dt>Vymazat databázi</dt>
<dd>Vyma¾e celou databázi. To mù¾e mít smysl napø. pokud mìníte jazyk blogu nebo pokud se filtr nauèil pøíli¹ mnoho výrazù ¹patnì.</dd>
</dl>

<h4>Ko¹</h4>
<p>
Smazané nebo neschválené komentáøe zde mohou být definitivnì smazány nebo obnoveny.
</p>

<h4>Analýza</h4>
<p>
Spamblock-Bayes hodnotí ka¾dé pole komentáøe samostatnì. To se ale neprojevuje v procentním ohodnocení komentáøe v pøehledu komentáøù. Zde je ale mo¾né prohlédnout si jednotlivé výsledky.
</p>

<h2>Podìkování</h2>
Dìkuji autorùm jQuery pluginù, které jsem pou¾il:
<ul>
<li>Heatcolor: <a href="http://www.jnathanson.com/blog/client/jquery/heatcolor/index.cfm">http://www.jnathanson.com/blog/client/jquery/heatcolor/index.cfm</a></li>
<li>Excerpt: <a href="http://adamhooper.com/bodacity/playground/jquery.excerpt.html">http://adamhooper.com/bodacity/playground/jquery.excerpt.html</a></li>
<li>Tablesorter: <a href="http://tablesorter.com/docs/">http://tablesorter.com/docs/</a></li>
</ul>
    

<h2>Historie verzí (ChangeLog)</h2>
<ul>
<li>Verze 0.4.3:</li>
	<ul>
	<li>Opravena chyba pøi prohlí¾ení v Safari</li>
	</ul>
<li>Verze 0.4.2:</li>
	<ul>
	<li>Pøidána dokumentace (nìmecká)</li>
	<li>Drobné zmìny CSS stylù v roz¹íøeném menu</li>
	<li>Neulo¾ení nastavení u¾ nezabraòuje nata¾ení javascriptu</li>
	</ul>
<li>Verze 0.4.1:</li>
	<ul>
	<li>Komentáøe ruènì oznaèené jako spam jsou pøesunuty do ko¹e místo trvalého smazání.</li>
	</ul>
<li>Verze 0.4:</li>
	<ul>
	<li>jQuery nyní mù¾e být souèástí Serendipity</li>
	</ul>
<li>Verze 0.3.9.3:</li>
	<ul>
	<li>Zmìnìno poèítání komentáøù pøi importu</li>
	</ul>
<li>Verze 0.3.9.2:</li>
	<ul>
	<li>Mazání a znovuvytváøení databáze odteï vytváøí tabulky s klíèi</li>
	<li>Opravena php-chyba pøi dotazu na v¹echny komentáøe z prázdné databáze</li>
	</ul>
<li>Verze 0.3.9.1:</li>
	<ul>
	<li>Optimalizace výkonu databáze, nyní je import mo¾ný i na velkých databázích</li>
	<li>Sní¾eno vyu¾ití pamìti pøi exportu</li>
	<li>Zlep¹ena podpora pro SQLlite</li>
	</ul>
<li>Verze 0.3.9:</li>
	<ul>
	<li>Pøidán Import/Export z/do databáze</li>
	<li>Pøidána ochrana pøed smazáním databáze pomocí potvrzovacího dialogu</li>
	</ul>
<li>Verze 0.3.8:</li>
	<ul>
	<li>Pøidána volba pro ignorování polí komentáøe</li>
	<li>Pou¾ití Limitu k omezení nadu¾ívání zdrojù v menu analýzy</li>
	<li>Zmìna poøadí øazení na "nejnovìj¹í komenátø první" v menu analýzy</li>
	<li>Opraveno: Ko¹ se vyprazdòoval pøi analýze komentáøe</li>
	<li>Pøidán odkaz na analýzy z hodnocení v seznamu komentáøù</li>
	</ul>
<li>Verze 0.3.7:</li>
	<ul>
	<li>Obnoveno po¾adované øazení tabulky ko¹e (recycler)</li>
	<li>Sní¾en vliv jednoho pole obsahujícího spam, pokud ostatní pole komentáøe nevypadají jako spam (napø. jméno komentujícího vypadá jako spam, ale v¹echno ostatní projde kontrolou)</li>
	<li>Uèení z obnovených komentáøù pøímo jako "ham"</li>
	<li>Pøidáno tlaèítko na nauèení z komentáøù v ko¹i pøi jeho vyprázdnìní.</li>
	<li>Pøidáno menu pro analýzu hodnocení komentáøù, zobrazující hodnocení ka¾dé èásti komentáøe.</li>
	</ul>
<li>Verze 0.3.6.1:</li>
	<ul>
	<li>Oprava obnovení obsahu ko¹e</li>
	</ul>
<li>Verze 0.3.6:</li>
	<ul>
	<li>Na základì po¾adavkù: Pøidáno datum k polo¾kám ko¹e</li>
	<li>Pøidáno tlaèítko "Oznaèit v¹e jako ham" na stránku s komentáøi, a to za pou¾ití tagu &lt;fieldset&gt; pro jeho oddìlení od bì¾ných tlaèítek komentáøù.</li>
	</ul>
<li>Verze 0.3.5:</li>
	<ul>
	<li>Opravena mo¾ná nekoneèná smyèka pøi oznaèování komentáøù jako spam.</li>
	<li>Zlep¹ení funkce "oznaèit jako spam" - nyní robustnìj¹í</li>
	<li>Upgrade: Opraveno ukládání starého poèítadla do nového systému.</li>
	<li>Lep¹í pojmenování "Vlastní" léèby</li>
	</ul>
<li>Verze 0.3.4:</li>
	<ul>
	<li>Pøidán workaround pro "prázdné" pingbacky</li>
	</ul>
<li>Verze 0.3.3:</li>
	<ul>
	<li>Pøidáno shroma¾ïování informací o komentáøi pøi hodnocení právì zadaného komentáøe (jméno, referrer, ip adresa)</li>
	<li>Opraven zmatek v pojmenování kategorií (jsou jiné v databázi a jiné pøi události ukládání komentáøe)</li>
	<li>Odstranìny chyby ve stylopisu pro administraèní sekci</li>
		<ul>
		<li>Pou¾ito pevné tabulkové rozvr¾ení pro tabulku ko¹</li>
		<li>Pøidány chybìjící pøeklady</li>
		<li>Opraveny chyby css co se týèe ovládacích prvkù</li>
		</ul>
	</ul>
<li>Verze 0.3.2:</li>
	<ul>
	<li>Hodnocení ka¾dého prvku komentáøe jako jsou text nebo email zvlá¹»</li>
	<li>Pou¾ití UTF-8 v databázi a pro dìlení na tokeny</li>
	<li>Pøidáno tlaèítko pro oznaèení v¹ech vybraných komentáøù jako spam</li>
	<li>Pøidáno menu pro:</li>
		<ul>
		<li>Nauèení libovolného komentáøe jako spam nebo "ham"</li>
		<li>Zobrazení pøehledu databázové tabulky a její ovládání</li>
		<li>Obnovení komentáøù døíve blokovaných jako spam</li>
		</ul>
	</ul>
<li>Verze 0.2.2:</li>
	<ul>
	<li>Pøidán volitelný (custom) mód pro zadávání podmínek pro schvalování a zamítání komentáøù</li>
	<li>Oznaèování: oznaèení jako "ham" schvaluje, oznaèení jako "spam" ma¾e</li>
	</ul>
<li>Verze 0.2.1:</li>
	<ul>
	<li>Vylep¹en SQL dotaz pro naètení komentáøe</li>
	</ul>
<li>Verze 0.2:</li>
	<ul>
	<li>Pøidáno zobrazení hodnocení komentáøe na stránce s komentáøem</li>
	<li>Pøidány ovládací prvky = odkazy na emailové oznámení pøi vlo¾ení komentáøe (v závislosti na zmìnì v Serendipity 1.6)</li>
	<li>Oprava chyby: Nìkteré komentáøe ne¹lo hodnotit</li>
	</ul>
<li>Verze 0.1.9:</li>
	<ul>
	<li>Slouèení ovládacích prvkù s existujícíc stránku komentáøe</li>
	<li>Vylep¹eno ètení komentáøù pøi uèení se</li>
	</ul>
<li>Verze 0.1.8.1:</li>
	<ul>
	<li>Pøidáno dal¹í/pøedchozí na spodek menu</li>
	<li>Odstranìny nadále nepotøebné prvky</li>
	<li>Pokus o vyèi¹tìní html</li>
	</ul>
<li>Verze 0.1.8:</li>
	<ul>
	<li>Z u¾ivatelského rozhraní odstranìny pøebyteèné prvky</li>
	<li>Pøidán indikátor naètení do u¾ivatelského rozhraní</li>
	<li>Oprava chyby: Pou¾ití formuláøe v administrátorské sekci nadále nepøepíná na stránku s komentáøem</li>
	<li>Oprava chyby: odstranìní tagu "konec php" (= "?&gt;") z jazykových souborù</li>
	</ul>
</ul>

  </body>
</html>
