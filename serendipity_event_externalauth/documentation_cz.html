<html>    
	<head>        
		<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
		<title>Dokumentace: Externí ovìøování u¾ivatelù</title>        
		<style>
        	pre {
				display: block;
				padding: 5px;
				border: solid 1px #333333;
				background-color: #cccccc;
			}         
		</style>    
	</head>
	<body>
	<h1>Dokumentace k pluginu 'Externí ovìøování u¾ivatelù'<br />
	<small>(serendipity_event_externalauth)</small></h1>
		<p>Dokumentaci k tomuto pluginu pøelo¾il do èe¹tiny Vladimír Ajgl (vlada [zavinac] ajgl [tecka] cz) a naposledy zkontroloval dne 13.4.2013. Od té doby mohl být plugin pozmìnìn nebo mohly být roz¹íøené jeho funkce. Zkontrolujte pro jistotu i	<a href="ChangeLog">aktuální anglický ChangeLog</a>. 
		</p>
		
		<h2>Popis pluginu</h2>
		<p>
		Umo¾òuje pou¾ít vnìj¹í zdroj pro zji¹»ování správnosti pøihla¹ovacích údajù. Pøihla¹ovací jména jsou cachována v Serendipity databázi. Tento plugin umí také sledovat pøihlá¹ení do Serendipity.
		</p>
		
		<h2>Historie verzí (ChangeLog)</h2>
		<ul>
			<li>verze 1.22 a 1.21</li>	
			<ul>	
				<li>Zmìnìna syntaxe fail2ban, zlep¹ení parsování</li>	
			</ul>

			<li>verze 1.20, 31.5.2011</li>	
			<ul>	
				<li>pøidáno - parametr logfile do funkce fail2ban</li>	
			</ul>

			<li>verze 1.17 (?), [Colas Nahaboo, colas@nahaboo.net]</li>	
			<ul>	
				<li>Pøidal jsem následující:</li>
				<ul>	
					<li>Mo¾nost pøihlá¹ení k rozhraní Microsoft Active Directory LDAP. Pro toto je nutné spustit dva pøíkazy hned po pøipojení LDAPu:
<pre>
ldap_set_option($ds,LDAP_OPT_PROTOCOL_VERSION, 3);
ldap_set_option($ds, LDAP_OPT_REFERRALS, 0);
</pre>
					</li>	
					<li>Mo¾nost pøipojení k LDPAùm, které nepodporují anonymní prohlí¾ení pomocí dvou nových nastavení 'bind_user' a 'bind_password'</li>	
					<li>Mo¾nost pou¾ívat LDAPy, kde u¾ivatelé nejsou ulo¾ené výhradnì v jedné vìtvi stromu, napø. kdy¾ je tøeba nejdøíve vyhledat jméno ve v¹ech vìtvích stromu vráceného v 'rdn' pomocí vyhledávacího øetìzce LDAP, který je mo¾né zadat v novì zavedeném nastavení 'auth_query' s %-expansion v rdn</li>	
					<li>Nastavení 'realname' v Serendipity ve v¹ech pøípadech z hodnoty LDAP 'name'</li>	
				</ul>

					<li>Napøíklad moje nastavení v ILOGu
<pre>rdn = DC=ilog,DC=biz
bind_user = CN=webcoreadreaddev,CN=Users,DC=ilog,DC=biz
bind_password = dotohotinicneni
auth_query = (&(objectcategory=person)(objectclass=user)(sAMAccountName=%1))
</pre></li>
				<li>Zmìnil jsem následující soubory:</li>
				<ul>	
					<li>serendipity_event_externalauth.php - vlastní kód</li>	
					<li>lang_en.inc.php - anglické texty k novým tøem nastavením</li>	
					<li>ChangeLog.txt - novì pøidaný soubor</li>	
				</ul>
			</ul>

		</ul> 
		 
	</body>
</html>
